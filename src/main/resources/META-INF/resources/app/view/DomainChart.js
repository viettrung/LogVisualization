/*
 * File: app/view/DomainChart.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.DomainChart', {
    extend: 'Ext.chart.CartesianChart',
    alias: 'widget.domainchart',

    requires: [
        'MyApp.view.DomainChartViewModel',
        'MyApp.view.DomainChartViewController',
        'Ext.chart.axis.Category',
        'Ext.chart.axis.Numeric',
        'Ext.chart.series.Bar'
    ],

    controller: 'domainchart',
    viewModel: {
        type: 'domainchart'
    },
    padding: '10 0 0 0',
    insetPadding: 40,

    bind: {
        store: '{domainStore}'
    },
    axes: [
        {
            type: 'category',
            fields: [
                'accessURLDomain'
            ],
            grid: true,
            label: {
                rotate: {
                    degrees: -45
                }
            },
            title: 'Domain',
            position: 'bottom'
        },
        {
            type: 'numeric',
            renderer: function(label, layout, lastLabel) {
                return label + '%';
            },
            fields: [
                'percentage'
            ],
            grid: true,
            position: 'left',
            title: 'Percent'
        }
    ],
    series: [
        {
            type: 'bar',
            highlight: {
                fill: '#000',
                'stroke-width': 20,
                stroke: '#fff'
            },
            style: {
                opacity: 0.8
            },
            tooltip: {
                trackMouse: true,
                style: 'background: #FFF',
                height: 20,
                renderer: function(storeItem, item) {
                    this.setTitle(storeItem.get('accessURLDomain') + ': ' + storeItem.get('percentage') + '%');
                }
            },
            xField: 'accessURLDomain',
            yField: [
                'percentage'
            ]
        }
    ]

});